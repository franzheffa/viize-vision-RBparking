generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ParkingLot {
  id             String   @id @default(cuid())
  slug           String   @unique
  name           String
  platformFeeBps Int      @default(500)
  spots          Spot[]
  createdAt      DateTime @default(now())
}

model Spot {
  id             String        @id @default(cuid())
  code           String        @unique
  type           String        @default("Standard")
  basePriceCents Int
  parkingLotId   String
  parkingLot     ParkingLot    @relation(fields: [parkingLotId], references: [id])
  reservations   Reservation[]
}

model Reservation {
  id        String   @id @default(cuid())
  reference String   @unique
  spotId    String
  spot      Spot     @relation(fields: [spotId], references: [id])
  createdAt DateTime @default(now())
}
